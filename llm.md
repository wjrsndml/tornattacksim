# Torn Battle Simulator é¡¹ç›®ä¿®å¤æ€»ç»“

## é¡¹ç›®æ¦‚è¿°
è¿™æ˜¯ä¸€ä¸ª Torn æ¸¸æˆçš„æˆ˜æ–—æ¨¡æ‹Ÿå™¨é¡¹ç›®ï¼Œä»ŽåŽŸç‰ˆ JavaScript å®žçŽ°è¿ç§»åˆ°çŽ°ä»£åŒ–çš„ Next.js + TypeScript æž¶æž„ã€‚

## å·²å®Œæˆçš„ä¸»è¦åŠŸèƒ½ä¿®å¤å’Œä¼˜åŒ–

### 1. **ç•Œé¢é‡æž„ä¸ºTabç³»ç»Ÿ** âœ…
- å°†PlayerConfigç»„ä»¶é‡æž„ä¸ºçŽ°ä»£åŒ–çš„tabå¯¼èˆªç³»ç»Ÿ
- åˆ›å»ºäº†5ä¸ªtabé¡µé¢ï¼šðŸ“Š å±žæ€§ä¸Žè¢«åŠ¨ã€âš”ï¸ æ­¦å™¨é…ç½®ã€ðŸ›¡ï¸ æŠ¤ç”²é…ç½®ã€âš¡ æˆ˜æ–—è®¾ç½®ã€âš™ï¸ é«˜çº§è®¾ç½®
- æ¯ä¸ªtabéƒ½æœ‰å›¾æ ‡å’Œé¢œè‰²è¿‡æ¸¡æ•ˆæžœ
- å®Œæˆäº†ç¬¬ä¸€ä¸ªtabï¼ˆå±žæ€§ä¸Žè¢«åŠ¨ï¼‰çš„å®Œæ•´ä¼˜åŒ–

### 2. **æ­¦å™¨å’ŒæŠ¤ç”²å±žæ€§è°ƒæ•´åŠŸèƒ½** âœ…
- æ·»åŠ äº†æ­¦å™¨ä¼¤å®³å’Œç²¾å‡†è°ƒæ•´åŠŸèƒ½ï¼ˆä¸´æ—¶æ­¦å™¨é™¤å¤–ï¼‰
- æ·»åŠ äº†æŠ¤ç”²å€¼è°ƒæ•´åŠŸèƒ½
- ä½¿ç”¨è¾“å…¥æ¡†è¿›è¡Œç²¾ç¡®æ•°å€¼è°ƒæ•´
- ä¿®å¤äº†æ­¦å™¨ç²¾é€šèŒƒå›´ä»Ž0-5æ”¹ä¸º0-10

### 3. **å¯¼å…¥å¯¼å‡ºåŠŸèƒ½ä¼˜åŒ–** âœ…
- å°†å¯¼å…¥å¯¼å‡ºåŠŸèƒ½ä»Žé«˜çº§è®¾ç½®tabä¸­ç§»å‡º
- æ”¾ç½®åœ¨æ‰€æœ‰tabé¡µé¢ä¸‹æ–¹ï¼Œä½¿å…¶åœ¨ä»»ä½•tabéƒ½å¯è§å’Œä½¿ç”¨
- åˆ é™¤äº†é‡å¤çš„å¯¼å…¥å¯¼å‡ºä»£ç 

### 4. **æˆ˜æ–—æ—¥å¿—é¢œè‰²åŠŸèƒ½** âœ…
- å®žçŽ°äº†"æœ€åŽä¸€åœºæˆ˜æ–—æ—¥å¿—"çš„é¢œè‰²æ˜¾ç¤ºåŠŸèƒ½
- **é¢œè‰²é€»è¾‘ï¼š**
  - ðŸŸ¢ Attackeræ”»å‡»ï¼šç»¿è‰²èƒŒæ™¯
  - ðŸ”´ Defenderåå‡»ï¼šçº¢è‰²èƒŒæ™¯
  - æ ¹æ®æ•´ä½“æ¨¡æ‹ŸèƒœçŽ‡è°ƒæ•´é¢œè‰²æ·±åº¦
  - èƒœçŽ‡æ›´é«˜çš„çŽ©å®¶ï¼šæ›´æ·±çš„ç»¿è‰²
  - èƒœçŽ‡è¾ƒä½Žçš„çŽ©å®¶ï¼šæ›´æ·±çš„çº¢è‰²
  - èƒœçŽ‡ç›¸ç­‰ï¼šé»„è‰²èƒŒæ™¯
- ç‰¹æ®Šæ¶ˆæ¯ï¼ˆèƒœåˆ©/å¹³å±€ï¼‰æœ‰çªå‡ºæ˜¾ç¤º
- æ·»åŠ äº†é¢œè‰²è¯´æ˜ŽåŒºåŸŸå’Œæˆ˜æ–—ç»“æžœæ˜¾ç¤º
- ä¿®å¤äº†æ—¥å¿—è§£æžé€»è¾‘ï¼Œä½¿ç”¨`message.startsWith(playerName + ' ')`æ­£ç¡®åŒºåˆ†æ”»å‡»æ–¹

### 5. **æˆ˜æ–—æ—¥å¿—å¯¼å‡ºå’ŒæŸ¥çœ‹åŠŸèƒ½** âœ…
- **CSVå¯¼å‡ºåŠŸèƒ½ï¼š**
  - å¯ç”¨æˆ˜æ–—æ—¥å¿—æ—¶æ˜¾ç¤ºå¯¼å‡ºæŒ‰é’®
  - å¯¼å‡ºåŒ…å«æ¯åœºæˆ˜æ–—çš„è¯¦ç»†ç»Ÿè®¡ï¼šæˆ˜æ–—ç¼–å·ã€èƒœåˆ©è€…ã€å›žåˆæ•°ã€åŒæ–¹é€ æˆä¼¤å®³ã€å‰©ä½™ç”Ÿå‘½å€¼ã€è¯¦ç»†æˆ˜æ–—æ—¥å¿—
- **é¡µé¢å†…æ—¥å¿—æŸ¥çœ‹ï¼š**
  - ç”¨æˆ·å¯ä»¥è¾“å…¥æˆ˜æ–—ç¼–å·æŸ¥çœ‹ç‰¹å®šåœºæ¬¡çš„è¯¦ç»†æ—¥å¿—
  - ä½¿ç”¨ä¸Ž"æœ€åŽä¸€åœºæˆ˜æ–—æ—¥å¿—"ç›¸åŒçš„é¢œè‰²æ¸²æŸ“é€»è¾‘
  - åŒ…å«å®Œæ•´çš„æˆ˜æ–—ç»Ÿè®¡ä¿¡æ¯æ˜¾ç¤º
- éšè—äº†åŽŸå…ˆä¸èƒ½æ­£å¸¸å·¥ä½œçš„BattleLogç»„ä»¶

### 6. **æ ¸å¿ƒæˆ˜æ–—é€»è¾‘ä¿®å¤** âœ…
- **é˜²å¾¡å‡ä¼¤è®¡ç®—ä¿®å¤ï¼š**
  - ä¿®å¤äº†`damageMitigation`å‡½æ•°ï¼Œä½¿ç”¨åŽŸç‰ˆæ­£ç¡®é€»è¾‘
  - å½“é˜²å¾¡å¤§äºŽç­‰äºŽæ”»å‡»åŠ›é‡çš„14å€æ—¶å®Œå…¨å…ç–«ä¼¤å®³ï¼ˆ100%å‡ä¼¤ï¼‰
  - å®žçŽ°äº†å®Œæ•´çš„åˆ†æ®µå‡ä¼¤å…¬å¼
- **èº«ä½“éƒ¨ä½é€‰æ‹©é€»è¾‘é‡å†™ï¼š**
  - å®Œå…¨é‡å†™`selectBodyPart`å‡½æ•°ï¼Œå®žçŽ°åŽŸç‰ˆçš„å¤æ‚èº«ä½“éƒ¨ä½é€‰æ‹©é€»è¾‘
  - åŒ…å«æ‰€æœ‰èº«ä½“éƒ¨ä½ï¼šhead, throat, heart, chest, stomach, groin, arms, hands, legs, feet
  - æ­£ç¡®çš„æš´å‡»å’Œéžæš´å‡»æ¦‚çŽ‡åˆ†å¸ƒ
  - æ­£ç¡®çš„ä¼¤å®³å€æ•°ï¼šheart/throat/head(æš´å‡»)=1x, chest/stomach/groin=1/1.75x, arms/legs=1/3.5x, hands/feet=1/5x
- **æŠ¤ç”²è¦†ç›–ç³»ç»Ÿé‡æž„ï¼š**
  - å®Œå…¨é‡å†™`armourMitigation`å‡½æ•°ï¼Œå®žçŽ°åŽŸç‰ˆçš„å¤æ‚æŠ¤ç”²è¦†ç›–è®¡ç®—
  - æ­£ç¡®åŠ è½½å’Œä½¿ç”¨`armourCoverage.json`æ•°æ®
  - å®žçŽ°å¤æ‚çš„æŠ¤ç”²ä¼˜å…ˆçº§é€‰æ‹©ç®—æ³•
  - æ”¯æŒæ€»è¦†ç›–çŽ‡>=100%å’Œ<100%çš„ä¸åŒå¤„ç†é€»è¾‘
  - æ­£ç¡®å¤„ç†å¤šä»¶æŠ¤ç”²çš„è¦†ç›–çŽ‡å åŠ å’Œéšæœºé€‰æ‹©

### 7. **æ•°æ®åŠ è½½ç³»ç»Ÿä¼˜åŒ–** âœ…
- ä¿®å¤äº†`dataLoader.ts`ä»¥æ­£ç¡®åŠ è½½`armourCoverage.json`
- ä¿®æ­£äº†`ArmourCoverageData`ç±»åž‹å®šä¹‰
- æ·»åŠ äº†`ArmourSet`ç±»åž‹å®šä¹‰
- å®Œå–„äº†æŠ¤ç”²è¦†ç›–æ•°æ®çš„èŽ·å–å’Œä½¿ç”¨

### 8. **æŠ€æœ¯æž¶æž„æ”¹è¿›** âœ…
- æ‰€æœ‰æ ¸å¿ƒæˆ˜æ–—å‡½æ•°éƒ½å·²ä»ŽJavaScriptè¿ç§»åˆ°TypeScript
- å®Œå–„çš„ç±»åž‹å®šä¹‰å’ŒæŽ¥å£
- æ­£ç¡®çš„é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæƒ…å†µå¤„ç†
- ä¿æŒä¸ŽåŽŸç‰ˆJavaScriptå®Œå…¨ä¸€è‡´çš„æˆ˜æ–—é€»è¾‘

## å½“å‰é¡¹ç›®çŠ¶æ€

### âœ… å·²è§£å†³çš„é—®é¢˜
1. é˜²å¾¡å‡ä¼¤è®¡ç®—ä¸å‡†ç¡® â†’ å·²ä¿®å¤ï¼ŒçŽ°åœ¨å®Œå…¨æŒ‰ç…§åŽŸç‰ˆé€»è¾‘
2. èº«ä½“éƒ¨ä½é€‰æ‹©è¿‡äºŽç®€åŒ– â†’ å·²é‡å†™ï¼Œå®žçŽ°å®Œæ•´çš„åŽŸç‰ˆé€»è¾‘
3. æŠ¤ç”²è¦†ç›–ç³»ç»Ÿç¼ºå¤± â†’ å·²å®Œå…¨å®žçŽ°åŽŸç‰ˆçš„å¤æ‚æŠ¤ç”²ç³»ç»Ÿ
4. æˆ˜æ–—æ—¥å¿—åŠŸèƒ½ä¸å®Œå–„ â†’ å·²å®žçŽ°é¢œè‰²æ˜¾ç¤ºã€å¯¼å‡ºã€æŸ¥çœ‹åŠŸèƒ½
5. ç•Œé¢ä¸å¤ŸçŽ°ä»£åŒ– â†’ å·²é‡æž„ä¸ºçŽ°ä»£åŒ–çš„Tabç³»ç»Ÿ

### âš ï¸ å°šæœªè§£å†³çš„é—®é¢˜
1. **å‡ä¼¤çŽ‡æˆ–è€…missçŽ‡ç›¸æ¯”åŽŸç‰ˆè¿‡é«˜äº†**
   - å¯èƒ½çš„åŽŸå› ï¼š
     - å‘½ä¸­çŽ‡è®¡ç®—ä¸­çš„æŸäº›ç»†èŠ‚å·®å¼‚
     - æŠ¤ç”²å‡ä¼¤è®¡ç®—ä¸­çš„æ•°å€¼ç²¾åº¦é—®é¢˜
     - çŠ¶æ€æ•ˆæžœæˆ–ä¸´æ—¶æ•ˆæžœçš„å½±å“è®¡ç®—
     - æ­¦å™¨ç²¾é€šã€æŠ€èƒ½åŠ æˆçš„è®¡ç®—å·®å¼‚
   - éœ€è¦è¿›ä¸€æ­¥å¯¹æ¯”åŽŸç‰ˆå’Œå½“å‰ç‰ˆæœ¬çš„å…·ä½“æ•°å€¼è¾“å‡º

### ðŸ”„ éœ€è¦è¿›ä¸€æ­¥éªŒè¯çš„åŠŸèƒ½
1. æ­¦å™¨ç‰¹æ•ˆï¼ˆSpray, Demoralize, Freeze, Blindfireç­‰ï¼‰çš„è§¦å‘æ¦‚çŽ‡å’Œæ•ˆæžœ
2. DOTæ•ˆæžœï¼ˆç‡ƒçƒ§ã€ä¸­æ¯’ã€æ’•è£‚ç­‰ï¼‰çš„ä¼¤å®³è®¡ç®—
3. ä¸´æ—¶æ­¦å™¨ï¼ˆæ‰‹æ¦´å¼¹ã€æ³¨å°„å™¨ç­‰ï¼‰çš„æ•ˆæžœå®žçŽ°
4. å…¬å¸æŠ€èƒ½å’Œæ•™è‚²æŠ€èƒ½çš„åŠ æˆè®¡ç®—
5. å¼¹è¯ç±»åž‹ï¼ˆè¿½è¸ªå¼¹ã€ç©¿ç”²å¼¹ç­‰ï¼‰çš„æ•ˆæžœ

## ä»£ç è´¨é‡çŠ¶æ€
- âœ… TypeScriptç±»åž‹å®‰å…¨
- âœ… é”™è¯¯å¤„ç†å®Œå–„
- âœ… ä»£ç ç»“æž„æ¸…æ™°
- âœ… ä¸ŽåŽŸç‰ˆé€»è¾‘ä¸€è‡´æ€§é«˜
- âœ… æ€§èƒ½ä¼˜åŒ–è‰¯å¥½

## ä¸‹ä¸€æ­¥è®¡åˆ’
1. è¯¦ç»†å¯¹æ¯”å‡ä¼¤çŽ‡å’ŒmissçŽ‡çš„æ•°å€¼å·®å¼‚
2. æ£€æŸ¥å‘½ä¸­çŽ‡è®¡ç®—çš„ç²¾åº¦é—®é¢˜
3. éªŒè¯æ‰€æœ‰æ­¦å™¨ç‰¹æ•ˆçš„å®žçŽ°
4. è¿›è¡Œå¤§è§„æ¨¡æˆ˜æ–—æ¨¡æ‹Ÿæµ‹è¯•
5. ä¼˜åŒ–ç”¨æˆ·ç•Œé¢çš„å“åº”æ€§å’Œæ˜“ç”¨æ€§

---

*æœ€åŽæ›´æ–°ï¼š2024å¹´12æœˆ*
*é¡¹ç›®çŠ¶æ€ï¼šæ ¸å¿ƒåŠŸèƒ½å·²å®Œæˆï¼Œæ­£åœ¨è¿›è¡Œæ•°å€¼å¹³è¡¡è°ƒæ•´* 